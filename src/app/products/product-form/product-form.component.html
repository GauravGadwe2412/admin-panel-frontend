<mat-card class="mat-elevation-z4 product-card">
  <mat-card-title class="card-title">
    {{ isEditMode ? "Edit Product" : "Add Product" }}
  </mat-card-title>

  <mat-card-content>
    <form [formGroup]="productForm" class="product-form">
      <!-- SKU -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>SKU <span class="required">*</span></mat-label>
        <input matInput formControlName="sku" placeholder="Enter SKU" />
      </mat-form-field>

      <!-- Name -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Product Name <span class="required">*</span></mat-label>
        <input
          matInput
          formControlName="name"
          placeholder="Enter Product Name"
        />
      </mat-form-field>

      <!-- Price -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Price <span class="required">*</span></mat-label>
        <input
          matInput
          type="number"
          formControlName="price"
          placeholder="Enter Price"
        />
      </mat-form-field>

      <!-- Image Upload -->
      <div class="file-upload full-width" style="margin-bottom: 12px">
        <label for="fileInput"><strong>Upload Images</strong></label
        ><br />
        <input
          id="fileInput"
          type="file"
          multiple
          accept="image/*"
          (change)="onFileChange($event)"
          style="margin-top: 6px"
        />
      </div>

      <!-- Image Preview with Remove Icon -->
      <div class="image-preview">
        <div
          *ngFor="let img of selectedImagesPreview; let i = index"
          style="display: inline-block; position: relative; margin-right: 10px"
        >
          <img
            [src]="img"
            width="80"
            height="80"
            alt="Image"
            style="border: 1px solid #ccc; border-radius: 4px"
          />
          <button
            type="button"
            (click)="removeImage(i)"
            style="
              position: absolute;
              top: -8px;
              right: -8px;
              background: red;
              color: white;
              border-radius: 50%;
              border: none;
              width: 20px;
              height: 20px;
              cursor: pointer;
            "
            title="Remove"
          >
            Ã—
          </button>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="button-group">
        <button
          mat-raised-button
          color="primary"
          type="button"
          (click)="onSubmit()"
        >
          {{ isEditMode ? "Update Product" : "Add Product" }}
        </button>
        <button
          mat-stroked-button
          color="warn"
          type="button"
          routerLink="/products"
        >
          Cancel
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>
